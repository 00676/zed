<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="498px" preserveAspectRatio="none" style="width:570px;height:498px;background:#FFFFFF;" version="1.1" viewBox="0 0 570 498" width="570px" zoomAndPan="magnify"><defs><filter height="300%" id="fy4tkdb0wbh8o" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="42" x2="42" y1="40.4883" y2="454.7676"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="272" x2="272" y1="40.4883" y2="454.7676"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="407" x2="407" y1="40.4883" y2="454.7676"/><rect fill="#FEFECE" filter="url(#fy4tkdb0wbh8o)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="71" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="12" y="25.5352">Zed App</text><rect fill="#FEFECE" filter="url(#fy4tkdb0wbh8o)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="71" x="5" y="453.7676"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="12" y="474.3027">Zed App</text><rect fill="#FEFECE" filter="url(#fy4tkdb0wbh8o)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="125" x="208" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="215" y="25.5352">Zed HTTP server</text><rect fill="#FEFECE" filter="url(#fy4tkdb0wbh8o)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="125" x="208" y="453.7676"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="215" y="474.3027">Zed HTTP server</text><rect fill="#FEFECE" filter="url(#fy4tkdb0wbh8o)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="116" x="347" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="354" y="25.5352">Zed RPC server</text><rect fill="#FEFECE" filter="url(#fy4tkdb0wbh8o)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="116" x="347" y="453.7676"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="354" y="474.3027">Zed RPC server</text><polygon fill="#A80036" points="260.5,83.1094,270.5,87.1094,260.5,91.1094,264.5,87.1094" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="42.5" x2="266.5" y1="87.1094" y2="87.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="49.5" y="67.0566">POST worktrees</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="49.5" y="82.3672">(user id, access token)</text><polygon fill="#A80036" points="53.5,127.7305,43.5,131.7305,53.5,135.7305,49.5,131.7305" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="47.5" x2="271.5" y1="131.7305" y2="131.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18" x="59.5" y="111.6777">OK</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="59.5" y="126.9883">(worktree id, RPC server address)</text><polygon fill="#A80036" points="395,157.041,405,161.041,395,165.041,399,161.041" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="42.5" x2="401" y1="161.041" y2="161.041"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="254" x="49.5" y="156.2988">Connect to the given RPC server address</text><polygon fill="#A80036" points="395,201.6621,405,205.6621,395,209.6621,399,205.6621" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="42.5" x2="401" y1="205.6621" y2="205.6621"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="49.5" y="185.6094">Auth</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="49.5" y="200.9199">(user id, access token)</text><rect fill="#FBFB77" filter="url(#fy4tkdb0wbh8o)" height="38" style="stroke:#A80036;stroke-width:1.0;" width="309" x="252" y="218.6621"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221" x="256" y="235.2305">Load access token hashes for user.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="301" x="256" y="250.541">Verify that one matches the given access token.</text><polygon fill="#A80036" points="53.5,294.9043,43.5,298.9043,53.5,302.9043,49.5,298.9043" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="47.5" x2="406" y1="298.9043" y2="298.9043"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="98" x="59.5" y="278.8516">AuthResponse</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="59.5" y="294.1621">(credentials valid)</text><polygon fill="#A80036" points="395,339.5254,405,343.5254,395,347.5254,399,343.5254" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="42.5" x2="401" y1="343.5254" y2="343.5254"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="99" x="49.5" y="323.4727">ShareWorktree</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227" x="49.5" y="338.7832">(worktree_id, file paths, file digests)</text><rect fill="#FBFB77" filter="url(#fy4tkdb0wbh8o)" height="38" style="stroke:#A80036;stroke-width:1.0;" width="173" x="320" y="356.5254"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="324" y="373.0938">Load existing files.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="324" y="388.4043">Identify which are needed.</text><polygon fill="#A80036" points="53.5,432.7676,43.5,436.7676,53.5,440.7676,49.5,436.7676" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="47.5" x2="406" y1="436.7676" y2="436.7676"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="164" x="59.5" y="416.7148">ShareWorktreeResponse</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="59.5" y="432.0254">(needed path indices)</text></g></svg>