{{#if language_name}}
File language: {{language_name}}
{{/if}}

Note the position of `<rewrite_this>...</rewrite_this>` tags in the document.

<document>
{{{document_content}}}
</document>

{{#if is_truncated}}
Note: Context around the relevant section has been truncated for brevity.
{{/if}}

Editing instructions:
1. Modify the code tagged above with `<rewrite_this>...</rewrite_this>` based on this prompt:
<prompt>
{{{user_prompt}}}
</prompt>

2. Only perform these changes:
   {{#if has_insertion}}
   - Add content where you see <insert_here></insert_here>
   {{/if}}
   {{#if has_replacement}}
   - Update content between <edit_here></edit_here> tags
   {{/if}}

3. Reminder: immediately surrounding code from the above `document`. Use this to silently recall the context, do not include surrounding code in your output!
<surrounding-context>
{{{rewrite_section_surrounding_with_selections}}}
</surrounding-context>

4. Section to modify:
<rewrite_this>{{{rewrite_section_with_selections}}}</rewrite_this>

5. Important guidelines:
   - Make only the changes needed to address the prompt
   - Match the original indentation
   - Do NOT include any `<rewrite_this>` or {{#if has_insertion}}`<insert_here>`{{/if}}{{#if has_replacement}}`<edit_here>`{{/if}} tags in your response
   - Provide the full `<rewrite_this>` section, even if parts remain unchanged
   - Output _only_ the code within `<rewrite_this>...</rewrite_this>` with the requested changes
   - Only change {{content_type}} that goes between the `{{#if has_insertion}}<insert_here>...</insert_here>{{/if}}{{#if has_replacement}}<edit_here>...</edit_here>{{/if}}` tags

Example of expected output format:
```
\{{rewritten_{{content_type}}}}
```
Where \{{rewritten_{{content_type}}}} is replaced with your modified section.

Now, provide your modified section using the format shown above. Start immediately with the ``` delimiter, no commentary.
